(window["webpackJsonpcinema-app"]=window["webpackJsonpcinema-app"]||[]).push([[0],{42:function(e,t,a){e.exports=a(73)},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),i=a.n(c),l=a(11),o=a(13),m=a(40),s=a(2),u=function(){return r.a.createElement("div",{className:"navbar sticky-top navbar-expand-lg navbar-dark bg-primary"},r.a.createElement("span",{className:"navbar-brand mb-0 h1"},"Cinema Town ",r.a.createElement("small",{className:"navbar-band"},"the best cinemas")),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",to:"/"},"Program")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",to:"/"},"Now in cinemas")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",to:"/prices"},"Prices")))),r.a.createElement(s.b,{to:"/"}," To Program"),r.a.createElement(s.b,{to:"/reservation"}," To Reservation"))},p=a(12),f=a(14),d=a(15),v=a(17),b=a(16),h=a(18),E=a(20),y=a.n(E),j=function(e){var t=e.film;return r.a.createElement("li",{className:"list-group-item"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-2"},r.a.createElement(s.b,{to:"/film/"+t.movie._id},r.a.createElement("img",{className:"img-thumbnail img-fluid",alt:t.movie.name,src:t.movie.poster}))),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("h5",{className:"mb-1"},t.movie.title),r.a.createElement("p",null,r.a.createElement("small",{className:"text-muted"},t.movie.genre," | ",t.movie.runtime)),r.a.createElement("div",null,t.hours.map((function(e){return r.a.createElement(s.b,{to:"/reservation",key:e.id,className:"btn btn-primary btn-sm mb-1"},e.hour)}))))))},O=a(8),k=a.n(O),w=a(19),N=a(24),g=a.n(N),x=y.a.create({baseURL:"https://omdbapi.com/?apikey=144de458&"}),F=y.a.create({baseURL:"https://vast-citadel-46907.herokuapp.com/api/"}),L=function(e){return function(){var t=Object(w.a)(k.a.mark((function t(a){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",T(e,a));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},T=g.a.memoize(function(){var e=Object(w.a)(k.a.mark((function e(t,a){var n,r,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.get("cinemas/"+t);case 2:return n=e.sent,r=Array.from(new Set(n.data.map((function(e){return e.movie})))),e.next=6,Promise.all(r.map(function(){var e=Object(w.a)(k.a.mark((function e(t){var a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.data.filter((function(e){return e.movie===t})),e.next=3,F.get("movies/"+t);case 3:return r=e.sent,e.abrupt("return",{movie:r.data[0],hours:a.map((function(e){return g.a.pick(e,["hour","id","day"])}))});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:c=e.sent,a({type:"FETCH_FILMS",payload:c});case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),C=g.a.memoize(function(){var e=Object(w.a)(k.a.mark((function e(t,a){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,x.get("",{params:{i:t}});case 4:n=e.sent,a({type:"FETCH_FILM",payload:n.data});case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),M=function(e){function t(){return Object(f.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchFilms("5d93af0a4d62591ddcfa0f4b")}},{key:"render",value:function(){return r.a.createElement("ul",{className:"list-group list-group-flush",style:{width:"80vw"}},this.renderList())}},{key:"renderList",value:function(){return this.props.films?(console.log("films",this.props.films),this.props.films.map((function(e){return r.a.createElement(j,{key:e.movie._id,film:e})}))):r.a.createElement("div",null)}}]),t}(r.a.Component),P=Object(l.b)((function(e){return{films:e.films}}),{fetchFilms:L})(M),_=(a(71),function(e){function t(){return Object(f.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"d-flex flex-column align-items-center"},r.a.createElement("p",null,"List of today's films: "),r.a.createElement(P,null))}}]),t}(r.a.Component)),D=Object(l.b)(null,{fetchFilms:L})(_),H=(a(72),function(e){function t(){return Object(f.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchFilm(this.props.match.params.id)}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderFilm())}},{key:"renderFilm",value:function(){if(!this.props.film)return null;var e=this.props.film,t=[];for(var a in e)t.push(r.a.createElement("div",null,r.a.createElement("b",null,a+": ")," ",""+e[a]));return r.a.createElement("div",{className:"film-details"},r.a.createElement("img",{src:e.Poster,alt:"poster"}),r.a.createElement("div",{className:"film-info"},r.a.createElement("div",null,t)))}}]),t}(r.a.Component)),I=Object(l.b)((function(e){return{film:e.film}}),{fetchFilm:function(e){return function(){var t=Object(w.a)(k.a.mark((function t(a){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",C(e,a));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(H),S=function(){return r.a.createElement("div",null,r.a.createElement(s.b,{to:"/form"},"To Form"))},R=function(){return r.a.createElement("div",null,r.a.createElement(s.b,{to:"/done"},"To Done"))},z=function(){return r.a.createElement("div",null,r.a.createElement("a",{href:"/"},"good!"))},J=function(){return r.a.createElement(p.a,{basename:"reservation"},r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/",exact:!0,component:S}),r.a.createElement(p.b,{path:"/form",exact:!0,component:R}),r.a.createElement(p.b,{path:"/done",exact:!0,component:z})))},U=function(){return r.a.createElement("div",null,"Prices")},q=function(){return r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/",exact:!0,component:D}),r.a.createElement(p.b,{path:"/prices",exact:!0,component:U}),r.a.createElement(p.b,{path:"/film/:id",exact:!0,component:I}),r.a.createElement(p.b,{path:"/reservation",exact:!0,component:J}))},A=function(){return r.a.createElement(s.a,null,r.a.createElement(u,null),r.a.createElement(q,null))},B=Object(o.c)({films:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_FILMS":return t.payload;default:return e}},film:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_FILM":return t.payload;default:return e}}}),G=Object(o.d)(B,Object(o.a)(m.a));i.a.render(r.a.createElement(l.a,{store:G},r.a.createElement(A,null)),document.querySelector("#root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.3b521051.chunk.js.map